/* Переменные */
:root {
    --bg-body: #f0f4f8;
    --bg-card: #ffffff;
    --text-main: #212529;
    --primary: #457ab1;
}

[data-theme="dark"] {
    --bg-body: #121212;
    --bg-card: #1e1e1e;
    --text-main: #ced4da;
}

body { 
    background-color: var(--bg-body); 
    color: var(--text-main); 
    font-family: 'Inter', sans-serif; 
    padding-bottom: 140px; 
    transition: 0.3s; 
}

.content-wrapper { max-width: 600px; margin: 0 auto; width: 100%; }

/* ПРОГРЕСС-БАР: две строки при необходимости */
.segments-wrap {
    display: flex;
    flex-wrap: wrap; /* Разрешает перенос */
    gap: 4px;
    width: 100%;
}

.segment {
    height: 6px;
    flex: 0 0 calc(6.66% - 4px); /* Ограничивает ширину для переноса */
    background: #e9ecef;
    border-radius: 2px;
    transition: 0.3s;
}

.segment.active { 
    background: var(--primary); 
    transform: scaleY(1.5); /* Визуальный акцент */
}

.segment.correct { background: #198754; }
.segment.wrong { background: #dc3545; }

/* Карточка */
.card { 
    background-color: var(--bg-card) !important; 
    border-radius: 20px !important; 
    border: 1px solid rgba(0,0,0,0.1) !important; 
}

#upr-text { font-size: 1.5rem; font-weight: 700; color: var(--text-main) !important; }

.gap-line { 
    border-bottom: 3px solid var(--primary); 
    min-width: 80px; 
    display: inline-block; 
    color: transparent !important; 
}

.gap-line.revealed { 
    color: #198754 !important; 
    border-bottom-color: transparent; 
    font-weight: 800; 
}

.btn { border-radius: 18px; font-weight: 700; padding: 12px; }
.btn-primary { background-color: var(--primary); border: none; }

/* Футер */
footer { background-color: var(--bg-card); z-index: 1050; }
.life-icon { width: 22px; height: 22px; }
.life-lost { opacity: 0.1; filter: grayscale(1); }

.card-footer-actions {
    border-top: 1px solid rgba(0,0,0,0.05);
    padding-top: 10px;
}